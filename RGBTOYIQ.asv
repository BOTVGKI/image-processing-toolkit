function YIQ=RGBTOYIQ(mat)
R=uint16(mat(:,:,1))/255;
G=uint16(mat(:,:,2))/255;
B=uint16(mat(:,:,3))/255;

%R = 1-R;
%G = 1-G;
%B = 1-B;

Y=0.299*R+0.587*G+0.114*B;
I=0.595716*R-0.274453*G-0.321263*B;
%Q=0.211456*R-0.253*G+0.311135*B;
Q=0.211456*R-0.522591*G+0.311135*B;
%YIQ=uint8([Y*255;I*255;Q*255]*255);
YIQ=uint8(zeros(size(mat)));
YIQ(:,:,1)=uint8(Y*255);
YIQ(:,:,2)=uint8(I*255);
YIQ(:,:,3)=uint8(Q*255);

end